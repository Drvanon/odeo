// Generated by CoffeeScript 1.6.2
(function() {
  var helpReactie;

  helpReactie = function() {
    var over;

    over = 5000 - $('#inputReactie').val().length;
    if (over > 100) {
      $('#help-reactie').text(over + ' karakters over.');
      if (!$('#controlgroupReactie').hasClass('info')) {
        $('#controlgroupReactie').addClass('info');
      }
      if (!$('#controlgroupReactie').hasClass('error')) {
        $('#controlgroupReactie').removeClass('error');
      }
      if ($('#controlgroupReactie').hasClass('warning')) {
        $('#controlgroupReactie').removeClass('warning');
      }
    }
    if ((100 > over && over > 2)) {
      $('#help-reactie').text('Pas op! Je hebt nog maar ' + over + ' karakters over.');
      if ($('#controlgroupReactie').hasClass('info')) {
        $('#controlgroupReactie').removeClass('info');
      }
      if (!$('#controlgroupReactie').hasClass('warning')) {
        $('#controlgroupReactie').addClass('warning');
      }
    }
    if (over < 2) {
      $('#help-reactie').text('Je hebt te veel karakters gebruikt, versprijdt je reactie over twee posts of kort deze in.');
      if ($('#controlgroupReactie').hasClass('warning')) {
        $('#controlgroupReactie').removeClass('warning');
      }
      if ($('#controlgroupReactie').hasClass('info')) {
        $('#controlgroupReactie').removeClass('info');
      }
      if (!$('#controlgroupReactie').hasClass('error')) {
        return $('#controlgroupReactie').addClass('error');
      }
    }
  };

  $(function() {
    $('#reageer').submit(function(e) {
      var pass;

      e.preventDefault();
      pass = true;
      if (!$('#inputNaam').val()) {
        $('#help-naam').text('Geef een naam.');
        $('#controlgroupNaam').addClass('error');
        pass = false;
      }
      if (5000 - $('#inputReactie').val().length < 2) {
        pass = false;
      }
      if (!$('#inputEmail').val()) {
        $('#help-email').text('Geef een email.');
        $('#controlgroupEmail').addclass('error');
        pass = false;
      }
      if (pass) {
        return $.post('/reageren', $("#reageer").serialize(), function() {
          return location.reload();
        });
      }
    });
    return $('#inputReactie').keypress(helpReactie);
  });

}).call(this);
